{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\negis\\\\OneDrive\\\\Desktop\\\\new project\\\\blockfest-ui\\\\src\\\\components\\\\NFTTicketCard.tsx\";\n// src/components/NFTTicketCard.tsx\n\nimport React from 'react';\nimport QRCode from 'react-qr-code'; // Ensure: npm install react-qr-code\nimport GlowingButton from './GlowingButton'; // Ensure GlowingButton exists\nimport { TicketIcon } from '@heroicons/react/solid'; // Ensure: npm install @heroicons/react\n\n// --- Interface Definitions ---\n\n// Define the shape of the ticket data object\n\n// Define the props accepted by the NFTTicketCard component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// --- Component Implementation ---\nconst NFTTicketCard = ({\n  ticket,\n  onBuy,\n  isOwned,\n  // isOwned is required, no default\n  isBuying = false,\n  // Default isBuying to false\n  onResell,\n  // onResell might be undefined if not passed\n  isReselling = false // Default isReselling to false\n}) => {\n  // Handler for the buy button click\n  const handleBuyClick = () => {\n    // Only allow buying if the ticket is not owned and not currently being bought\n    if (!isOwned && !isBuying) {\n      // Pass the numeric ticket ID to the onBuy handler\n      onBuy(ticket.id);\n    }\n  };\n\n  // Handler for the resell button click\n  const handleResellClick = () => {\n    // Only allow reselling if the ticket is owned, an onResell handler exists,\n    // and it's not already being resold.\n    if (isOwned && onResell && !isReselling) {\n      // Pass the numeric ticket ID to the onResell handler\n      onResell(ticket.id);\n    }\n  };\n\n  // Fallback image URL for when imageUrl is missing or fails to load\n  const placeholderImageUrl = `https://via.placeholder.com/300x200/1b1b32/f5f6f7?text=${encodeURIComponent(ticket.eventName || 'Event Ticket')}`;\n  return (\n    /*#__PURE__*/\n    // Card container with styling and layout adjustments\n    _jsxDEV(\"div\", {\n      className: \"bg-secondary-dark rounded-lg overflow-hidden shadow-lg border border-accent-glow/20 hover:border-accent-glow/50 transition-all duration-300 transform hover:-translate-y-1 group flex flex-col justify-between h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", ticket.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: ticket.imageUrl,\n          alt: ticket.eventName,\n          className: \"w-full h-48 object-cover bg-primary-dark\",\n          onError: e => {\n            // If image fails to load, use placeholder\n            e.currentTarget.src = placeholderImageUrl;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-48 bg-primary-dark flex items-center justify-center text-accent-light\",\n          children: /*#__PURE__*/_jsxDEV(TicketIcon, {\n            className: \"h-16 w-16 opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-text-main mb-1 truncate\",\n            title: ticket.eventName,\n            children: ticket.eventName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-accent-light font-medium mb-2\",\n            children: ticket.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-text-secondary mb-3\",\n            children: [\"Seat: \", ticket.seatNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-3 p-2 bg-white rounded flex justify-center items-center max-w-[100px] mx-auto\",\n            children: /*#__PURE__*/_jsxDEV(QRCode, {\n              value: ticket.qrValue || 'no-qr-data',\n              size: 80,\n              level: \"M\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 pt-0 mt-auto\",\n        children: [\" \", !isOwned && /*#__PURE__*/_jsxDEV(GlowingButton, {\n          className: \"w-full text-sm\",\n          onClick: handleBuyClick,\n          disabled: isBuying // Disable if buy is in progress\n          ,\n          pulse: !isBuying // Add pulse effect if available to buy\n          ,\n          children: isBuying ? 'Processing...' : 'Buy Now'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), isOwned && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [onResell && /*#__PURE__*/_jsxDEV(GlowingButton, {\n            className: \"w-full text-sm bg-accent hover:bg-accent-dark\" // Resell button style\n            ,\n            onClick: handleResellClick,\n            disabled: isReselling // Disable if resell is in progress\n            ,\n            children: isReselling ? 'Processing Resale...' : 'Resell Ticket'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 30\n          }, this), !onResell && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block w-full text-center text-sm px-4 py-2 rounded bg-gray-600 text-gray-300 cursor-default\",\n            children: \"Owned (Not Resellable)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)\n  );\n};\n_c = NFTTicketCard;\nexport default NFTTicketCard;\nvar _c;\n$RefreshReg$(_c, \"NFTTicketCard\");","map":{"version":3,"names":["React","QRCode","GlowingButton","TicketIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","NFTTicketCard","ticket","onBuy","isOwned","isBuying","onResell","isReselling","handleBuyClick","id","handleResellClick","placeholderImageUrl","encodeURIComponent","eventName","className","children","imageUrl","src","alt","onError","e","currentTarget","fileName","_jsxFileName","lineNumber","columnNumber","title","price","seatNumber","value","qrValue","size","level","onClick","disabled","pulse","_c","$RefreshReg$"],"sources":["C:/Users/negis/OneDrive/Desktop/new project/blockfest-ui/src/components/NFTTicketCard.tsx"],"sourcesContent":["// src/components/NFTTicketCard.tsx\r\n\r\nimport React from 'react';\r\nimport QRCode from 'react-qr-code'; // Ensure: npm install react-qr-code\r\nimport GlowingButton from './GlowingButton'; // Ensure GlowingButton exists\r\nimport { TicketIcon } from '@heroicons/react/solid'; // Ensure: npm install @heroicons/react\r\n\r\n// --- Interface Definitions ---\r\n\r\n// Define the shape of the ticket data object\r\nexport interface NFTTicketData {\r\n    // Match MarketplacePage.tsx: id is number\r\n    id: number;\r\n    eventName: string;\r\n    price: string; // e.g., \"0.05 ETH\"\r\n    seatNumber: string;\r\n    imageUrl?: string; // Optional image for the event/NFT\r\n    qrValue: string; // Data for the QR code\r\n}\r\n\r\n// Define the props accepted by the NFTTicketCard component\r\nexport interface NFTTicketCardProps {\r\n    ticket: NFTTicketData;\r\n    // Match MarketplacePage.tsx: handleBuyTicket expects number or string,\r\n    // but handleResaleTicket expects number. Standardize to number.\r\n    onBuy: (ticketId: number) => void; // Function to call when buying\r\n    isOwned: boolean; // Flag if the current user owns this ticket (required)\r\n    isBuying?: boolean; // Flag if the buy transaction is in progress\r\n    // Add the resale props (optional as they are only passed for owned tickets)\r\n    onResell?: (tokenId: number) => void; // Function to call when reselling\r\n    isReselling?: boolean; // Flag if the resell transaction is in progress\r\n}\r\n\r\n// --- Component Implementation ---\r\nconst NFTTicketCard: React.FC<NFTTicketCardProps> = ({\r\n    ticket,\r\n    onBuy,\r\n    isOwned, // isOwned is required, no default\r\n    isBuying = false, // Default isBuying to false\r\n    onResell,         // onResell might be undefined if not passed\r\n    isReselling = false // Default isReselling to false\r\n}) => {\r\n\r\n    // Handler for the buy button click\r\n    const handleBuyClick = () => {\r\n        // Only allow buying if the ticket is not owned and not currently being bought\r\n        if (!isOwned && !isBuying) {\r\n            // Pass the numeric ticket ID to the onBuy handler\r\n            onBuy(ticket.id);\r\n        }\r\n    };\r\n\r\n    // Handler for the resell button click\r\n    const handleResellClick = () => {\r\n        // Only allow reselling if the ticket is owned, an onResell handler exists,\r\n        // and it's not already being resold.\r\n        if (isOwned && onResell && !isReselling) {\r\n             // Pass the numeric ticket ID to the onResell handler\r\n            onResell(ticket.id);\r\n        }\r\n    }\r\n\r\n    // Fallback image URL for when imageUrl is missing or fails to load\r\n    const placeholderImageUrl = `https://via.placeholder.com/300x200/1b1b32/f5f6f7?text=${encodeURIComponent(ticket.eventName || 'Event Ticket')}`;\r\n\r\n    return (\r\n        // Card container with styling and layout adjustments\r\n        <div className=\"bg-secondary-dark rounded-lg overflow-hidden shadow-lg border border-accent-glow/20 hover:border-accent-glow/50 transition-all duration-300 transform hover:-translate-y-1 group flex flex-col justify-between h-full\">\r\n            {/* Top Section: Image with Fallback */}\r\n            <div> {/* Wrapper for top content */}\r\n                {ticket.imageUrl ? (\r\n                    <img \r\n                        src={ticket.imageUrl} \r\n                        alt={ticket.eventName} \r\n                        className=\"w-full h-48 object-cover bg-primary-dark\"\r\n                        onError={(e) => {\r\n                            // If image fails to load, use placeholder\r\n                            e.currentTarget.src = placeholderImageUrl;\r\n                        }}\r\n                    />\r\n                ) : (\r\n                    <div className=\"w-full h-48 bg-primary-dark flex items-center justify-center text-accent-light\">\r\n                        <TicketIcon className=\"h-16 w-16 opacity-50\"/>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Middle Section: Ticket Details */}\r\n                <div className=\"p-4\">\r\n                    <h3 className=\"text-lg font-semibold text-text-main mb-1 truncate\" title={ticket.eventName}>{ticket.eventName}</h3>\r\n                    {/* Display price with currency unit */}\r\n                    <p className=\"text-sm text-accent-light font-medium mb-2\">{ticket.price}</p>\r\n                    <p className=\"text-xs text-text-secondary mb-3\">Seat: {ticket.seatNumber}</p>\r\n\r\n                    {/* QR Code: Displayed centered, potentially only for owned tickets */}\r\n                    {/* (Currently always shown based on original code, adjust if needed) */}\r\n                     <div className=\"my-3 p-2 bg-white rounded flex justify-center items-center max-w-[100px] mx-auto\">\r\n                        {/* Ensure qrValue is a string */}\r\n                        <QRCode value={ticket.qrValue || 'no-qr-data'} size={80} level=\"M\" />\r\n                     </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Bottom Section: Action Buttons */}\r\n            <div className=\"p-4 pt-0 mt-auto\"> {/* mt-auto pushes buttons to the bottom */}\r\n                {/* --- Buy Button --- */}\r\n                {/* Render this button only if the ticket is NOT owned */}\r\n                {!isOwned && (\r\n                    <GlowingButton\r\n                        className=\"w-full text-sm\"\r\n                        onClick={handleBuyClick}\r\n                        disabled={isBuying} // Disable if buy is in progress\r\n                        pulse={!isBuying} // Add pulse effect if available to buy\r\n                    >\r\n                        {isBuying ? 'Processing...' : 'Buy Now'}\r\n                    </GlowingButton>\r\n                )}\r\n\r\n                {/* --- Owned Status / Resell Button --- */}\r\n                 {/* Render this section only if the ticket IS owned */}\r\n                {isOwned && (\r\n                    <>\r\n                        {/* If an onResell function IS provided, show the Resell button */}\r\n                        {onResell && (\r\n                             <GlowingButton\r\n                                className=\"w-full text-sm bg-accent hover:bg-accent-dark\" // Resell button style\r\n                                onClick={handleResellClick}\r\n                                disabled={isReselling} // Disable if resell is in progress\r\n                            >\r\n                                {isReselling ? 'Processing Resale...' : 'Resell Ticket'}\r\n                             </GlowingButton>\r\n                        )}\r\n                        {/* If NO onResell function is provided, show a static \"Owned\" indicator */}\r\n                        {!onResell && (\r\n                             <span className=\"block w-full text-center text-sm px-4 py-2 rounded bg-gray-600 text-gray-300 cursor-default\">\r\n                                Owned (Not Resellable)\r\n                             </span>\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NFTTicketCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}