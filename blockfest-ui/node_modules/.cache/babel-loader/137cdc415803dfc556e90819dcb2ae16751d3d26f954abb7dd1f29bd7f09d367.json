{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\negis\\\\OneDrive\\\\Desktop\\\\new project\\\\blockfest-ui\\\\src\\\\components\\\\NFTTicketCard.tsx\";\n// src/components/NFTTicketCard.tsx\n\nimport React from 'react';\nimport QRCode from 'react-qr-code'; // Ensure: npm install react-qr-code\nimport GlowingButton from './GlowingButton'; // Ensure GlowingButton exists\nimport { TicketIcon } from '@heroicons/react/solid'; // Ensure: npm install @heroicons/react\n\n// --- Interface Definitions ---\n\n// Define the shape of the ticket data object\n\n// Define the props accepted by the NFTTicketCard component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// --- Component Implementation ---\nconst NFTTicketCard = ({\n  ticket,\n  onBuy,\n  isOwned,\n  // isOwned is required, no default\n  isBuying = false,\n  // Default isBuying to false\n  onResell,\n  // onResell might be undefined if not passed\n  isReselling = false // Default isReselling to false\n}) => {\n  // Handler for the buy button click\n  const handleBuyClick = () => {\n    // Only allow buying if the ticket is not owned and not currently being bought\n    if (!isOwned && !isBuying) {\n      // Pass the numeric ticket ID to the onBuy handler\n      onBuy(ticket.id);\n    }\n  };\n\n  // Handler for the resell button click\n  const handleResellClick = () => {\n    // Only allow reselling if the ticket is owned, an onResell handler exists,\n    // and it's not already being resold.\n    if (isOwned && onResell && !isReselling) {\n      // Pass the numeric ticket ID to the onResell handler\n      onResell(ticket.id);\n    }\n  };\n\n  // Fallback image URL for when imageUrl is missing or fails to load\n  const placeholderImageUrl = `https://via.placeholder.com/300x200/1b1b32/f5f6f7?text=${encodeURIComponent(ticket.eventName || 'Event Ticket')}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-secondary-dark rounded-lg overflow-hidden shadow-lg border border-accent-glow/20 hover:border-accent-glow/50 transition-all duration-300 transform hover:-translate-y-1 group flex flex-col h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full h-48\",\n      children: ticket.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: ticket.imageUrl,\n        alt: ticket.eventName,\n        className: \"w-full h-full object-cover bg-primary-dark\",\n        onError: e => {\n          // If image fails to load, use placeholder\n          e.currentTarget.src = placeholderImageUrl;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-full bg-primary-dark flex items-center justify-center text-accent-light\",\n        children: /*#__PURE__*/_jsxDEV(TicketIcon, {\n          className: \"h-16 w-16 opacity-50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 flex-grow flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-text-main mb-1 truncate\",\n          title: ticket.eventName,\n          children: ticket.eventName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-accent-light font-medium mb-2\",\n          children: ticket.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-text-secondary\",\n          children: [\"Seat: \", ticket.seatNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-3 p-2 bg-white rounded flex justify-center items-center max-w-[100px] mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(QRCode, {\n          value: ticket.qrValue || 'no-qr-data',\n          size: 80,\n          level: \"M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-auto pt-4\",\n      children: [!isOwned && /*#__PURE__*/_jsxDEV(GlowingButton, {\n        onClick: handleBuyClick,\n        disabled: isBuying,\n        className: \"w-full py-2 text-sm font-medium\",\n        children: isBuying ? 'Processing...' : 'Buy Now'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this), isOwned && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [onResell && /*#__PURE__*/_jsxDEV(GlowingButton, {\n          onClick: handleResellClick,\n          disabled: isReselling,\n          className: \"w-full py-2 text-sm font-medium bg-accent hover:bg-accent-dark\" // Resell button style\n          ,\n          children: isReselling ? 'Processing Resale...' : 'Resell Ticket'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 30\n        }, this), !onResell && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"block w-full text-center text-sm px-4 py-2 rounded bg-gray-600 text-gray-300 cursor-default\",\n          children: \"Owned (Not Resellable)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_c = NFTTicketCard;\nexport default NFTTicketCard;\nvar _c;\n$RefreshReg$(_c, \"NFTTicketCard\");","map":{"version":3,"names":["React","QRCode","GlowingButton","TicketIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","NFTTicketCard","ticket","onBuy","isOwned","isBuying","onResell","isReselling","handleBuyClick","id","handleResellClick","placeholderImageUrl","encodeURIComponent","eventName","className","children","imageUrl","src","alt","onError","e","currentTarget","fileName","_jsxFileName","lineNumber","columnNumber","title","price","seatNumber","value","qrValue","size","level","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/negis/OneDrive/Desktop/new project/blockfest-ui/src/components/NFTTicketCard.tsx"],"sourcesContent":["// src/components/NFTTicketCard.tsx\r\n\r\nimport React from 'react';\r\nimport QRCode from 'react-qr-code'; // Ensure: npm install react-qr-code\r\nimport GlowingButton from './GlowingButton'; // Ensure GlowingButton exists\r\nimport { TicketIcon } from '@heroicons/react/solid'; // Ensure: npm install @heroicons/react\r\n\r\n// --- Interface Definitions ---\r\n\r\n// Define the shape of the ticket data object\r\nexport interface NFTTicketData {\r\n    // Match MarketplacePage.tsx: id is number\r\n    id: number;\r\n    eventName: string;\r\n    price: string; // e.g., \"0.05 ETH\"\r\n    seatNumber: string;\r\n    imageUrl?: string; // Optional image for the event/NFT\r\n    qrValue: string; // Data for the QR code\r\n}\r\n\r\n// Define the props accepted by the NFTTicketCard component\r\nexport interface NFTTicketCardProps {\r\n    ticket: NFTTicketData;\r\n    // Match MarketplacePage.tsx: handleBuyTicket expects number or string,\r\n    // but handleResaleTicket expects number. Standardize to number.\r\n    onBuy: (ticketId: number) => void; // Function to call when buying\r\n    isOwned: boolean; // Flag if the current user owns this ticket (required)\r\n    isBuying?: boolean; // Flag if the buy transaction is in progress\r\n    // Add the resale props (optional as they are only passed for owned tickets)\r\n    onResell?: (tokenId: number) => void; // Function to call when reselling\r\n    isReselling?: boolean; // Flag if the resell transaction is in progress\r\n}\r\n\r\n// --- Component Implementation ---\r\nconst NFTTicketCard: React.FC<NFTTicketCardProps> = ({\r\n    ticket,\r\n    onBuy,\r\n    isOwned, // isOwned is required, no default\r\n    isBuying = false, // Default isBuying to false\r\n    onResell,         // onResell might be undefined if not passed\r\n    isReselling = false // Default isReselling to false\r\n}) => {\r\n\r\n    // Handler for the buy button click\r\n    const handleBuyClick = () => {\r\n        // Only allow buying if the ticket is not owned and not currently being bought\r\n        if (!isOwned && !isBuying) {\r\n            // Pass the numeric ticket ID to the onBuy handler\r\n            onBuy(ticket.id);\r\n        }\r\n    };\r\n\r\n    // Handler for the resell button click\r\n    const handleResellClick = () => {\r\n        // Only allow reselling if the ticket is owned, an onResell handler exists,\r\n        // and it's not already being resold.\r\n        if (isOwned && onResell && !isReselling) {\r\n             // Pass the numeric ticket ID to the onResell handler\r\n            onResell(ticket.id);\r\n        }\r\n    }\r\n\r\n    // Fallback image URL for when imageUrl is missing or fails to load\r\n    const placeholderImageUrl = `https://via.placeholder.com/300x200/1b1b32/f5f6f7?text=${encodeURIComponent(ticket.eventName || 'Event Ticket')}`;\r\n\r\n    return (\r\n        <div className=\"bg-secondary-dark rounded-lg overflow-hidden shadow-lg border border-accent-glow/20 hover:border-accent-glow/50 transition-all duration-300 transform hover:-translate-y-1 group flex flex-col h-full\">\r\n            {/* Image Section */}\r\n            <div className=\"relative w-full h-48\">\r\n                {ticket.imageUrl ? (\r\n                    <img \r\n                        src={ticket.imageUrl} \r\n                        alt={ticket.eventName} \r\n                        className=\"w-full h-full object-cover bg-primary-dark\"\r\n                        onError={(e) => {\r\n                            // If image fails to load, use placeholder\r\n                            e.currentTarget.src = placeholderImageUrl;\r\n                        }}\r\n                    />\r\n                ) : (\r\n                    <div className=\"w-full h-full bg-primary-dark flex items-center justify-center text-accent-light\">\r\n                        <TicketIcon className=\"h-16 w-16 opacity-50\"/>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Content Section */}\r\n            <div className=\"p-4 flex-grow flex flex-col\">\r\n                <div className=\"mb-4\">\r\n                    <h3 className=\"text-lg font-semibold text-text-main mb-1 truncate\" title={ticket.eventName}>\r\n                        {ticket.eventName}\r\n                    </h3>\r\n                    {/* Display price with currency unit */}\r\n                    <p className=\"text-sm text-accent-light font-medium mb-2\">{ticket.price}</p>\r\n                    <p className=\"text-xs text-text-secondary\">Seat: {ticket.seatNumber}</p>\r\n                </div>\r\n\r\n                {/* QR Code: Displayed centered, potentially only for owned tickets */}\r\n                {/* (Currently always shown based on original code, adjust if needed) */}\r\n                <div className=\"my-3 p-2 bg-white rounded flex justify-center items-center max-w-[100px] mx-auto\">\r\n                    {/* Ensure qrValue is a string */}\r\n                    <QRCode value={ticket.qrValue || 'no-qr-data'} size={80} level=\"M\" />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Action Buttons Section */}\r\n            <div className=\"mt-auto pt-4\">\r\n                {/* --- Buy Button --- */}\r\n                {/* Render this button only if the ticket is NOT owned */}\r\n                {!isOwned && (\r\n                    <GlowingButton\r\n                        onClick={handleBuyClick}\r\n                        disabled={isBuying}\r\n                        className=\"w-full py-2 text-sm font-medium\"\r\n                    >\r\n                        {isBuying ? 'Processing...' : 'Buy Now'}\r\n                    </GlowingButton>\r\n                )}\r\n\r\n                {/* --- Owned Status / Resell Button --- */}\r\n                 {/* Render this section only if the ticket IS owned */}\r\n                {isOwned && (\r\n                    <>\r\n                        {/* If an onResell function IS provided, show the Resell button */}\r\n                        {onResell && (\r\n                             <GlowingButton\r\n                                onClick={handleResellClick}\r\n                                disabled={isReselling}\r\n                                className=\"w-full py-2 text-sm font-medium bg-accent hover:bg-accent-dark\" // Resell button style\r\n                            >\r\n                                {isReselling ? 'Processing Resale...' : 'Resell Ticket'}\r\n                             </GlowingButton>\r\n                        )}\r\n                        {/* If NO onResell function is provided, show a static \"Owned\" indicator */}\r\n                        {!onResell && (\r\n                             <span className=\"block w-full text-center text-sm px-4 py-2 rounded bg-gray-600 text-gray-300 cursor-default\">\r\n                                Owned (Not Resellable)\r\n                             </span>\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NFTTicketCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}